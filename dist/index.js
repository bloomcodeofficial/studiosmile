"use strict";(()=>{(function(){var r=$("[bw-element='media-player'] video")[0],o=$("[bw-element='media-player'] audio")[0],n=$("[bw-element='media-player'] video")[0],b="#FACC15";$("[bw-element='portfolio-item']").on("mouseenter",function(){$("[bw-element='portfolio-item-video-preview']").css("opacity","0%");let e="";if($(this).find("[bw-element='portfolio-item-video-preview']").length&&(e=$(this).find("[bw-element='portfolio-item-video-preview'] video").attr("data-src")),!e){console.log("File URL is not provided in CMS.");return}let t=$(this).find("[bw-element='portfolio-item-video-preview'] video");$(this).find("[bw-element='portfolio-item-video-preview']").css("opacity","100%"),$(t).attr("src",e),setTimeout(function(){console.log("HALO 2",$(t)),$(t)[0].play()},100)}),$("[bw-element='portfolio-item']").on("mouseleave",function(e){$(".clip").attr("src",""),$("[bw-element='portfolio-item-video-preview']").css("opacity","0%")}),$(document).on("click","[bw-element='portfolio-item']",function(e){let t=$(this).find(" [bw-element='portfolio-item-url']").text().trim(),i=$(this).find(" [bw-element='portfolio-item-title']").text().trim(),l=$(this).find("[bw-element='portfolio-item-category']").text().trim().toLowerCase(),a=$(this).find(" [bw-element='portfolio-item-details']").html();if($("[bw-element='media-player'] audio").hide(),$("[bw-element='media-player'] video").hide(),l!="tv"){n=$("[bw-element='media-player'] audio")[0];let u=$(this).find("[bw-element='portfolio-item-poster']").css("background-image");u=u.replace("url(","").replace(")","").replace(/\"/gi,""),$("[bw-element='media-player-poster'] img").attr("src",u),$("[bw-element='media-player-video']").show(),$("[bw-element='media-player-poster']").show(),$("[bw-element='media-player'] audio").show(),$("[bw-element='media-player'] audio").attr("src",t),$("[bw-element='media-player']").find("audio").trigger("play")}else n=$("[bw-element='media-player'] video")[0],$("[bw-element='media-player-video']").show(),$("[bw-element='media-player-poster']").hide(),$("[bw-element='media-player'] video").show(),$("[bw-element='media-player'] video").attr("src",t),$("[bw-element='media-player']").find("video").trigger("play");$("[bw-element='media-player-title']").text(i.replaceAll(",",", ")),$("[bw-element='media-player-details']").html(a),$("[bw-element='media-player']").fadeIn(),$("body").addClass("overflow-hidden")}),$(document).mouseup(function(e){if(!!$("[bw-element='media-player']").is(":visible")&&!($(e.target).hasClass("audio_component")||$(e.target).closest(".audio_component").length)){var t=$("[bw-element='media-player-component']");!t.is(e.target)&&t.has(e.target).length===0&&($("[bw-element='media-player'] video").attr("src",""),$("[bw-element='media-player'] audio").attr("src",""),$("[bw-element='media-player']").fadeOut(),$("body").removeClass("overflow-hidden"))}});var y=!1,h=!1;window.AudioContext=window.AudioContext||window.webkitAudioContext||window.mozAudioContext;var g=function(e,t="visualiser-canvas"){var i=new AudioContext;i.crossOrigin="anonymous";var l=i.createAnalyser(),a=i.createMediaElementSource(e);a.connect(l),l.connect(i.destination);var u=new Uint8Array(l.frequencyBinCount),f=document.getElementById(t),A=f.width,c=f.height,S=10,I=1,_=2,L="transparent",w=600/(10+2),x=[];i=f.getContext("2d");function C(){var v=new Uint8Array(l.frequencyBinCount);l.getByteFrequencyData(v);var T=Math.round(v.length/w);if(i.clearRect(0,0,A,c),i.strokeStyle=b,i.fillStyle=b,i.beginPath(),!e.paused){for(var s=0;s<w;s++){var m=v[s*T];x.length<Math.round(w)&&x.push(m),m>148&&(m=148);let M=c-m+_;i.rect(s*12,c-m+_,S,c,50)}i.fill()}requestAnimationFrame(C)}C()};r.onplay=function(){y||(g(r),y=!0)},o.onplay=function(){h||(g(o,"visualiser-canvas-audio"),h=!0)},n.addEventListener("loadeddata",()=>{if(n.readyState>=2){let e=n.duration;$("[bw-element='player-total-time']").text(d(e))}}),o.addEventListener("loadeddata",()=>{if(o.readyState>=2){let e=o.duration;$("[bw-element='player-total-time']").text(d(e))}}),$(document).on("input","[bw-element='player-time']",function(){let e=$(this).val(),i=n.duration*(e/100);n.currentTime=i}),r.addEventListener("timeupdate",e=>{let t=r.currentTime,i=r.duration,a=100/i*t;$("#player-time").val(a),$("[bw-element='player-current-time']").text(d(t))}),o.addEventListener("timeupdate",e=>{let t=o.currentTime,i=o.duration,a=100/i*t;$("#player-time").val(a),$("[bw-element='player-current-time']").text(d(t))}),$("body").on("input","[bw-element='volume']",function(e){var t=$(e.currentTarget).val();p(t),r.volume=t/100,o.volume=t/100}),$("body").on("click","[bw-element='volume-icon']",function(e){let t=$("[bw-element='volume-icon']").val();if(t==0){let i=parseInt($(this).attr("unmuted-volume"));(i==0||isNaN(i))&&(i=50),$("[bw-element='volume-icon']").val(i),o.volume=i/100,r.volume=i/100,p(i)}else $(this).attr("unmuted-volume",t),$("[bw-element='volume-icon']").val(0),o.volume=0,r.volume=0,p(0)});function p(e){e==0?$("[bw-element='volume-icon']").attr("src","https://uploads-ssl.webflow.com/637139ed9b96f7e572ff323f/6373b39d0552835ba91e0dbb_IconoirSoundOff.svg"):e<=33?$("[bw-element='volume-icon']").attr("src","https://uploads-ssl.webflow.com/637139ed9b96f7e572ff323f/6373b39d940b6cc88be3d719_IconoirSoundMin%20(1).svg"):e<=66?$("[bw-element='volume-icon']").attr("src","https://uploads-ssl.webflow.com/637139ed9b96f7e572ff323f/6373b39dc8dbbf5817253c55_IconoirSoundLow.svg"):e<=100&&$("[bw-element='volume-icon']").attr("src","https://uploads-ssl.webflow.com/637139ed9b96f7e572ff323f/6373b39dfce3c5410108825a_IconoirSoundHigh.svg")}function d(e){let t=Math.floor(e/60);return t=t>=10?t:"0"+t,e=Math.floor(e%60),e=e>=10?e:"0"+e,t+":"+e}})();})();
