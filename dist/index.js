"use strict";(()=>{var o=$("#player")[0];$(".portfolio_item").mouseenter(function(){$(".portfolio_item").removeClass("currently-hovering"),$(this).addClass("currently-hovering"),$(this).prepend($(".portfolio_item-player")),$(".portfolio_item-player").removeClass("visible"),setTimeout(function(){$(".portfolio_item-player").addClass("visible")},50);let e="",t=!1;if($(this).find(".portfolio_audio-embed:visible").length?e=$(this).find(".audio-url-holder").attr("data-src"):$(this).find(".portfolio_video-embed:visible").length&&(e=$(this).find(".clip").attr("data-src"),t=!0),!e){console.log("File URL is not provided in CMS.");return}let i=$(this).find(".portfolio_content-title").eq(0).find("div").eq(0).text();$("#now-playing span").text(i),$("#now-playing").show(),o.setAttribute("src",e),o.play(),t&&$(this).find(".clip").attr("src",e)});o.addEventListener("loadeddata",()=>{if(o.readyState>=2){let e=o.duration;$(".portfolio_item-player-total-time").text(y(e))}});$(".portfolio_item").mouseleave(function(e){$(".portfolio_item-player").removeClass("visible"),$(".portfolio_item").removeClass("currently-hovering"),$(".clip").attr("src",""),o.pause(),o.setAttribute("src",""),$("#now-playing").hide()});$(document).on("input","#player-time",function(){let e=$(this).val();console.log(e,"x");let i=$("#player")[0].duration*(e/100);$("#player")[0].currentTime=i;let l=$(".portfolio_item.currently-hovering");$(l).find(".portfolio_video-embed:visible").length&&($(l).find("video")[0].currentTime=i)});o.addEventListener("timeupdate",e=>{let t=$("#player")[0].currentTime,i=$("#player")[0].duration,r=100/i*t;$("#player-time").val(r),$(".portfolio_item-player-current-time").text(y(t))});$("body").on("input","#volume",function(e){var t=$(e.currentTarget).val();c(t),$("#player")[0].volume=t/100});$("body").on("click","#volume-icon",function(e){let t=$("#volume").val();if(t==0){let i=parseInt($(this).attr("unmuted-volume"));(i==0||isNaN(i))&&(i=50),$("#volume").val(i),$("#player")[0].volume=i/100,c(i)}else $(this).attr("unmuted-volume",t),$("#volume").val(0),$("#player")[0].volume=0,c(0)});function c(e){e==0?$("#volume-icon").attr("src","https://uploads-ssl.webflow.com/637139ed9b96f7e572ff323f/6373b39d0552835ba91e0dbb_IconoirSoundOff.svg"):e<=33?$("#volume-icon").attr("src","https://uploads-ssl.webflow.com/637139ed9b96f7e572ff323f/6373b39d940b6cc88be3d719_IconoirSoundMin%20(1).svg"):e<=66?$("#volume-icon").attr("src","https://uploads-ssl.webflow.com/637139ed9b96f7e572ff323f/6373b39dc8dbbf5817253c55_IconoirSoundLow.svg"):e<=100&&$("#volume-icon").attr("src","https://uploads-ssl.webflow.com/637139ed9b96f7e572ff323f/6373b39dfce3c5410108825a_IconoirSoundHigh.svg")}var v=!1;window.AudioContext=window.AudioContext||window.webkitAudioContext||window.mozAudioContext;var w=function(){var e=new AudioContext;e.crossOrigin="anonymous";var t=e.createAnalyser(),i=e.createMediaElementSource(o);i.connect(t),t.connect(e.destination);var l=new Uint8Array(t.frequencyBinCount),r=document.getElementById("visualiser-canvas"),h=r.width,a=r.height,b=10,C=1,f=2,A="transparent",s=600/(10+2),m=[];e=r.getContext("2d"),line_color="#FACC15";function p(){var d=new Uint8Array(t.frequencyBinCount);t.getByteFrequencyData(d);var _=Math.round(d.length/s);e.clearRect(0,0,h,a),e.strokeStyle=line_color,e.fillStyle=line_color,e.beginPath();var g=document.getElementById("player");if(!g.paused){for(var u=0;u<s;u++){var n=d[u*_];m.length<Math.round(s)&&m.push(n),n>148&&(n=148);let x=a-n+f;e.roundRect(u*12,a-n+f,b,a,50)}e.fill()}requestAnimationFrame(p)}p()};o.onplay=function(){v||(w(),v=!0)};function y(e){return minutes=Math.floor(e/60),minutes=minutes>=10?minutes:"0"+minutes,e=Math.floor(e%60),e=e>=10?e:"0"+e,minutes+":"+e}})();
