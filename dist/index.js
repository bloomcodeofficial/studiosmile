"use strict";(()=>{(function(){var r=$("[bw-element='media-player'] video")[0],o=$("[bw-element='media-player'] audio")[0],n=$("[bw-element='media-player'] video")[0],v="#FACC15";$("[bw-element='portfolio-item']").on("mouseenter",function(){$("[bw-element='portfolio-item-video-preview']").css("opacity","0%");let e="";if($(this).find("[bw-element='portfolio-item-video-preview']").length&&(e=$(this).find("[bw-element='portfolio-item-video-preview'] video").attr("data-src")),!e){console.log("File URL is not provided in CMS.");return}let t=$(this).find("[bw-element='portfolio-item-video-preview'] video");$(this).find("[bw-element='portfolio-item-video-preview']").css("opacity","100%"),$(t).attr("src",e),setTimeout(function(){console.log("HALO 2",$(t)),$(t)[0].play()},100)}),$("[bw-element='portfolio-item']").on("mouseleave",function(e){$(".clip").attr("src",""),$("[bw-element='portfolio-item-video-preview']").css("opacity","0%")}),$(document).on("click","[bw-element='portfolio-item']",function(e){let t=$(this).find(" [bw-element='portfolio-item-url']").text().trim(),i=$(this).find(" [bw-element='portfolio-item-title']").text().trim(),l=$(this).find("[bw-element='portfolio-item-category']").text().trim().toLowerCase(),c=$(this).find(" [bw-element='portfolio-item-details']").html();if($("[bw-element='media-player'] audio").hide(),$("[bw-element='media-player'] video").hide(),l!="tv"){n=$("[bw-element='media-player'] audio")[0];let a=$(this).find("[bw-element='portfolio-item-poster']").css("background-image");a=a.replace("url(","").replace(")","").replace(/\"/gi,""),$("[bw-element='media-player-poster'] img").attr("src",a),$("[bw-element='media-player-video']").show(),$("[bw-element='media-player-poster']").show(),$("[bw-element='media-player'] audio").show(),$("[bw-element='media-player'] audio").attr("src",t),$("[bw-element='media-player']").find("audio").trigger("play")}else n=$("[bw-element='media-player'] video")[0],$("[bw-element='media-player-video']").show(),$("[bw-element='media-player-poster']").hide(),$("[bw-element='media-player'] video").show(),$("[bw-element='media-player'] video").attr("src",t),$("[bw-element='media-player']").find("video").trigger("play");$("[bw-element='media-player-title']").text(i.replaceAll(",",", ")),$("[bw-element='media-player-details']").html(c),$("[bw-element='media-player']").fadeIn(),$("body").addClass("overflow-hidden")}),$(document).mouseup(function(e){if(!!$("[bw-element='media-player']").is(":visible")&&!($(e.target).hasClass("audio_component")||$(e.target).closest(".audio_component").length)){var t=$("[bw-element='media-player-component']");!t.is(e.target)&&t.has(e.target).length===0&&($("[bw-element='media-player'] video").attr("src",""),$("[bw-element='media-player'] audio").attr("src",""),$("[bw-element='media-player']").fadeOut(),$("body").removeClass("overflow-hidden"))}});var b=!1,y=!1;window.AudioContext=window.AudioContext||window.webkitAudioContext||window.mozAudioContext;var h=function(e,t="visualiser-canvas"){var i=new AudioContext;i.crossOrigin="anonymous";var l=i.createAnalyser(),c=i.createMediaElementSource(e);c.connect(l),l.connect(i.destination);var a=document.getElementById(t),x=a.width,p=a.height,C=10,A=2,f=600/(10+2),g=[];i=a.getContext("2d");function _(){var w=new Uint8Array(l.frequencyBinCount);l.getByteFrequencyData(w);var S=Math.round(w.length/f);if(i.clearRect(0,0,x,p),i.strokeStyle=v,i.fillStyle=v,i.beginPath(),!e.paused){for(var d=0;d<f;d++){var u=w[d*S];g.length<Math.round(f)&&g.push(u),u>148&&(u=148),i.rect(d*12,p-u+A,C,p,50)}i.fill()}requestAnimationFrame(_)}_()};r.onplay=function(){b||(h(r),b=!0)},o.onplay=function(){y||(h(o,"visualiser-canvas-audio"),y=!0)},n.addEventListener("loadeddata",()=>{if(n.readyState>=2){let{duration:e}=n;$("[bw-element='player-total-time']").text(m(e))}}),o.addEventListener("loadeddata",()=>{if(o.readyState>=2){let{duration:e}=o;$("[bw-element='player-total-time']").text(m(e))}}),$(document).on("input","[bw-element='player-time']",function(){let e=$(this).val(),{duration:t}=n,i=t*(e/100);n.currentTime=i}),r.addEventListener("timeupdate",()=>{let{currentTime:e}=r,{duration:t}=r,l=100/t*e;$("#player-time").val(l),$("[bw-element='player-current-time']").text(m(e))}),o.addEventListener("timeupdate",()=>{let{currentTime:e}=o,{duration:t}=o,l=100/t*e;$("#player-time").val(l),$("[bw-element='player-current-time']").text(m(e))}),$("body").on("input","[bw-element='volume']",function(e){var t=$(e.currentTarget).val();s(t),r.volume=t/100,o.volume=t/100}),$("body").on("click","[bw-element='volume-icon']",function(e){let t=$("[bw-element='volume-icon']").val();if(t==0){let i=parseInt($(this).attr("unmuted-volume"));(i==0||isNaN(i))&&(i=50),$("[bw-element='volume-icon']").val(i),o.volume=i/100,r.volume=i/100,s(i)}else $(this).attr("unmuted-volume",t),$("[bw-element='volume-icon']").val(0),o.volume=0,r.volume=0,s(0)});function s(e){e==0?$("[bw-element='volume-icon']").attr("src","https://uploads-ssl.webflow.com/637139ed9b96f7e572ff323f/6373b39d0552835ba91e0dbb_IconoirSoundOff.svg"):e<=33?$("[bw-element='volume-icon']").attr("src","https://uploads-ssl.webflow.com/637139ed9b96f7e572ff323f/6373b39d940b6cc88be3d719_IconoirSoundMin%20(1).svg"):e<=66?$("[bw-element='volume-icon']").attr("src","https://uploads-ssl.webflow.com/637139ed9b96f7e572ff323f/6373b39dc8dbbf5817253c55_IconoirSoundLow.svg"):e<=100&&$("[bw-element='volume-icon']").attr("src","https://uploads-ssl.webflow.com/637139ed9b96f7e572ff323f/6373b39dfce3c5410108825a_IconoirSoundHigh.svg")}function m(e){let t=Math.floor(e/60);return t=t>=10?t:"0"+t,e=Math.floor(e%60),e=e>=10?e:"0"+e,t+":"+e}})();})();
